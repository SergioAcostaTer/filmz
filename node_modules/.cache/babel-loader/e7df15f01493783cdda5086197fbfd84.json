{"ast":null,"code":"import { useState } from \"react\";\nconst API_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"?api_key=c6b78e19f7ba833c205511b80032a27c\"; // export default function getTrendMoviesPics(){\n//     return fetch( `${API_URL}/trending/movie/day${API_KEY}`  )\n//         .then(async response => await response.json())\n//         .then(data => {return data})\n// }\n\nlet [res, setRes] = useState([]);\nlet actualPages = 1;\n\nasync function fetchTwenty(pages) {\n  const response = await fetch(`${API_URL}/trending/movie/day${API_KEY}&page=${pages}`);\n  const res = await response.json();\n  return res;\n}\n\nlet dataFromApi;\nlet dataLength = 0;\nexport default async function getTrendMoviesPics() {\n  while (dataLength == 0 || dataLength == 20 || dataLength == 40 || dataLength == 60 || dataLength == 80 || dataLength == 100 || dataLength == 120) {\n    dataFromApi = await fetchTwenty(actualPages);\n    dataLength = dataFromApi.results.length;\n    setRes(...res, dataFromApi.results);\n    console.log(dataFromApi);\n    console.log(res);\n    actualPages++;\n  }\n\n  return res;\n}","map":{"version":3,"names":["useState","API_URL","API_KEY","res","setRes","actualPages","fetchTwenty","pages","response","fetch","json","dataFromApi","dataLength","getTrendMoviesPics","results","length","console","log"],"sources":["C:/Users/Sergio/Desktop/react zone/zonapelicula/src/services/getTrendMoviesPics.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst API_URL = \"https://api.themoviedb.org/3\"\r\nconst API_KEY = \"?api_key=c6b78e19f7ba833c205511b80032a27c\"\r\n\r\n// export default function getTrendMoviesPics(){\r\n//     return fetch( `${API_URL}/trending/movie/day${API_KEY}`  )\r\n//         .then(async response => await response.json())\r\n//         .then(data => {return data})\r\n// }\r\nlet [res, setRes] = useState([]);\r\n\r\n\r\nlet actualPages = 1\r\n\r\n\r\nasync function fetchTwenty(pages) {\r\n    const response = await fetch(`${API_URL}/trending/movie/day${API_KEY}&page=${pages}`);\r\n    const res = await response.json();\r\n    return res;\r\n}\r\n\r\nlet dataFromApi;\r\nlet dataLength = 0;\r\n\r\n\r\n\r\nexport default async function getTrendMoviesPics(){\r\n\r\n    while (\r\n        dataLength == 0 ||\r\n        dataLength == 20 ||\r\n        dataLength == 40 ||\r\n        dataLength == 60 ||\r\n        dataLength == 80 ||\r\n        dataLength == 100 ||\r\n        dataLength == 120)\r\n        {\r\n            dataFromApi = await fetchTwenty(actualPages);\r\n        \r\n        \r\n            dataLength = dataFromApi.results.length;\r\n            \r\n            setRes(...res, dataFromApi.results)\r\n            console.log(dataFromApi)\r\n            console.log(res)\r\n\r\n            actualPages++\r\n        }\r\n        return res\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,MAAMC,OAAO,GAAG,8BAAhB;AACA,MAAMC,OAAO,GAAG,2CAAhB,C,CAEA;AACA;AACA;AACA;AACA;;AACA,IAAI,CAACC,GAAD,EAAMC,MAAN,IAAgBJ,QAAQ,CAAC,EAAD,CAA5B;AAGA,IAAIK,WAAW,GAAG,CAAlB;;AAGA,eAAeC,WAAf,CAA2BC,KAA3B,EAAkC;EAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,OAAQ,sBAAqBC,OAAQ,SAAQK,KAAM,EAAvD,CAA5B;EACA,MAAMJ,GAAG,GAAG,MAAMK,QAAQ,CAACE,IAAT,EAAlB;EACA,OAAOP,GAAP;AACH;;AAED,IAAIQ,WAAJ;AACA,IAAIC,UAAU,GAAG,CAAjB;AAIA,eAAe,eAAeC,kBAAf,GAAmC;EAE9C,OACID,UAAU,IAAI,CAAd,IACAA,UAAU,IAAI,EADd,IAEAA,UAAU,IAAI,EAFd,IAGAA,UAAU,IAAI,EAHd,IAIAA,UAAU,IAAI,EAJd,IAKAA,UAAU,IAAI,GALd,IAMAA,UAAU,IAAI,GAPlB,EAQI;IACID,WAAW,GAAG,MAAML,WAAW,CAACD,WAAD,CAA/B;IAGAO,UAAU,GAAGD,WAAW,CAACG,OAAZ,CAAoBC,MAAjC;IAEAX,MAAM,CAAC,GAAGD,GAAJ,EAASQ,WAAW,CAACG,OAArB,CAAN;IACAE,OAAO,CAACC,GAAR,CAAYN,WAAZ;IACAK,OAAO,CAACC,GAAR,CAAYd,GAAZ;IAEAE,WAAW;EACd;;EACD,OAAOF,GAAP;AACP"},"metadata":{},"sourceType":"module"}