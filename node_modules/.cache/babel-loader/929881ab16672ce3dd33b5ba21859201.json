{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sergio/Desktop/react zone/zonapelicula/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sergio/Desktop/react zone/zonapelicula/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Sergio/Desktop/react zone/zonapelicula/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Movie from\"./Movie\";import getTrendMoviesPics from\"../services/getTrendMoviesPics\";import{jsx as _jsx}from\"react/jsx-runtime\";var Movies=function Movies(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mainMovies=_useState2[0],setMainMovies=_useState2[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var movies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!localStorage.trend||JSON.parse(localStorage.trend).length===0)){_context.next=7;break;}console.log(JSON.parse(localStorage.trend)===[]);_context.next=4;return getTrendMoviesPics(\"day\");case 4:movies=_context.sent;setMainMovies(movies);localStorage.trend=JSON.stringify(movies);case 7:if(localStorage.trend){// console.log(localStorage.trend)\nsetMainMovies(JSON.parse(localStorage.trend));}case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);//eslint-disable-line\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"movie-container\",children:mainMovies===null||mainMovies===void 0?void 0:mainMovies.slice(0,50).map(function(e){return/*#__PURE__*/_jsx(Movie,{rate:e.vote_average?Math.round(e.vote_average*100)/100:\"?\",id:e.id,image:\"https://image.tmdb.org/t/p/original\".concat(e.poster_path),alt:e.original_title},e.image);})});};export default Movies;","map":{"version":3,"names":["useState","useEffect","Movie","getTrendMoviesPics","Movies","mainMovies","setMainMovies","fetchData","localStorage","trend","JSON","parse","length","console","log","movies","stringify","slice","map","e","vote_average","Math","round","id","poster_path","original_title","image"],"sources":["C:/Users/Sergio/Desktop/react zone/zonapelicula/src/components/Movies.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Movie from \"./Movie\";\nimport getTrendMoviesPics from \"../services/getTrendMoviesPics\";\n\nconst Movies = () => {\n  const [mainMovies, setMainMovies] = useState([]);\n\n  useEffect(() => {\n    async function fetchData(){\n      if (!localStorage.trend || JSON.parse(localStorage.trend).length === 0) {\n        console.log(JSON.parse(localStorage.trend) === [])\n        const movies = await getTrendMoviesPics(\"day\")\n        setMainMovies(movies)\n        localStorage.trend = JSON.stringify(movies);\n      }\n      if (localStorage.trend) {\n        // console.log(localStorage.trend)\n        setMainMovies(JSON.parse(localStorage.trend));\n      }\n    }\n    fetchData()\n  }, []); //eslint-disable-line\n\n  return (\n    <div className=\"movie-container\">\n      {mainMovies?.slice(0, 50).map((e) => (\n        <Movie\n          key={e.image}\n          rate={e.vote_average ? Math.round(e.vote_average * 100) / 100 : \"?\"}\n          id={e.id}\n          image={`https://image.tmdb.org/t/p/original${e.poster_path}`}\n          alt={e.original_title}\n        ></Movie>\n      ))}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"mappings":"+ZAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,mBAAP,KAA+B,gCAA/B,C,2CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnB,cAAoCJ,QAAQ,CAAC,EAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eAEAL,SAAS,CAAC,UAAM,SACCM,UADD,uIACd,qJACM,CAACC,YAAY,CAACC,KAAd,EAAuBC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,KAAxB,EAA+BG,MAA/B,GAA0C,CADvE,0BAEIC,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,KAAxB,IAAmC,EAA/C,EAFJ,sBAGyBN,mBAAkB,CAAC,KAAD,CAH3C,QAGUY,MAHV,eAIIT,aAAa,CAACS,MAAD,CAAb,CACAP,YAAY,CAACC,KAAb,CAAqBC,IAAI,CAACM,SAAL,CAAeD,MAAf,CAArB,CALJ,OAOE,GAAIP,YAAY,CAACC,KAAjB,CAAwB,CACtB;AACAH,aAAa,CAACI,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,KAAxB,CAAD,CAAb,CACD,CAVH,sDADc,4CAadF,SAAS,GACV,CAdQ,CAcN,EAdM,CAAT,CAcQ;AAER,mBACE,YAAK,SAAS,CAAC,iBAAf,UACGF,UADH,SACGA,UADH,iBACGA,UAAU,CAAEY,KAAZ,CAAkB,CAAlB,CAAqB,EAArB,EAAyBC,GAAzB,CAA6B,SAACC,CAAD,qBAC5B,KAAC,KAAD,EAEE,IAAI,CAAEA,CAAC,CAACC,YAAF,CAAiBC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACC,YAAF,CAAiB,GAA5B,EAAmC,GAApD,CAA0D,GAFlE,CAGE,EAAE,CAAED,CAAC,CAACI,EAHR,CAIE,KAAK,8CAAwCJ,CAAC,CAACK,WAA1C,CAJP,CAKE,GAAG,CAAEL,CAAC,CAACM,cALT,EACON,CAAC,CAACO,KADT,CAD4B,EAA7B,CADH,EADF,CAaD,CAhCD,CAkCA,cAAetB,OAAf"},"metadata":{},"sourceType":"module"}