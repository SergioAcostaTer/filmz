{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Sergio/Desktop/react zone/zonapelicula/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Sergio/Desktop/react zone/zonapelicula/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sergio/Desktop/react zone/zonapelicula/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var API_URL=\"https://api.themoviedb.org/3\";export var API_KEY=\"?api_key=c6b78e19f7ba833c205511b80032a27c\";// export default function getTrendMoviesPics(){\n//     return fetch( `${API_URL}/trending/movie/day${API_KEY}`  )\n//         .then(async response => await response.json())\n//         .then(data => {return data})\n// }\nvar actualPages=1;function fetchTwenty(_x,_x2){return _fetchTwenty.apply(this,arguments);}function _fetchTwenty(){_fetchTwenty=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(pages,time){var response,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_URL,\"/trending/movie/\").concat(time).concat(API_KEY,\"&page=\").concat(pages));case 2:response=_context.sent;_context.next=5;return response.json();case 5:res=_context.sent;return _context.abrupt(\"return\",res);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchTwenty.apply(this,arguments);}var dataFromApi;var dataLength=0;var res=[];export default function getTrendMoviesPics(_x3){return _getTrendMoviesPics.apply(this,arguments);}function _getTrendMoviesPics(){_getTrendMoviesPics=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(timeWindow){var i;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:i=0;case 1:if(!(i<5)){_context2.next=11;break;}_context2.next=4;return fetchTwenty(actualPages,timeWindow);case 4:dataFromApi=_context2.sent;dataLength=dataFromApi.results.length;res.push.apply(res,_toConsumableArray(dataFromApi.results));actualPages++;case 8:i++;_context2.next=1;break;case 11:return _context2.abrupt(\"return\",res);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return _getTrendMoviesPics.apply(this,arguments);}","map":{"version":3,"names":["API_URL","API_KEY","actualPages","fetchTwenty","pages","time","fetch","response","json","res","dataFromApi","dataLength","getTrendMoviesPics","timeWindow","i","results","length","push"],"sources":["C:/Users/Sergio/Desktop/react zone/zonapelicula/src/services/getTrendMoviesPics.js"],"sourcesContent":["export const API_URL = \"https://api.themoviedb.org/3\";\nexport const API_KEY = \"?api_key=c6b78e19f7ba833c205511b80032a27c\";\n\n// export default function getTrendMoviesPics(){\n//     return fetch( `${API_URL}/trending/movie/day${API_KEY}`  )\n//         .then(async response => await response.json())\n//         .then(data => {return data})\n// }\n\nlet actualPages = 1;\n\nasync function fetchTwenty(pages, time) {\n  const response = await fetch(\n    `${API_URL}/trending/movie/${time}${API_KEY}&page=${pages}`\n  );\n  const res = await response.json();\n  return res;\n}\n\nlet dataFromApi;\nlet dataLength = 0;\nlet res = [];\n\nexport default async function getTrendMoviesPics(timeWindow) {\n  for (let i = 0; i < 5; i++) \n  // while (dataLength == 0 || dataLength == 20)\n  {\n    dataFromApi = await fetchTwenty(actualPages, timeWindow);\n\n    dataLength = dataFromApi.results.length;\n\n    res.push(...dataFromApi.results);\n\n    actualPages++;\n  }\n\n  return res;\n}\n"],"mappings":"uaAAA,MAAO,IAAMA,QAAO,CAAG,8BAAhB,CACP,MAAO,IAAMC,QAAO,CAAG,2CAAhB,CAEP;AACA;AACA;AACA;AACA;AAEA,GAAIC,YAAW,CAAG,CAAlB,C,QAEeC,Y,mJAAf,iBAA2BC,KAA3B,CAAkCC,IAAlC,2JACyBC,MAAK,WACvBN,OADuB,4BACGK,IADH,SACUJ,OADV,kBAC0BG,KAD1B,EAD9B,QACQG,QADR,qCAIoBA,SAAQ,CAACC,IAAT,EAJpB,QAIQC,GAJR,+CAKSA,GALT,wD,8CAQA,GAAIC,YAAJ,CACA,GAAIC,WAAU,CAAG,CAAjB,CACA,GAAIF,IAAG,CAAG,EAAV,CAEA,uBAA8BG,mBAA9B,wD,6GAAe,kBAAkCC,UAAlC,8HACJC,CADI,CACA,CADA,aACGA,CAAC,CAAG,CADP,mDAISX,YAAW,CAACD,WAAD,CAAcW,UAAd,CAJpB,QAIXH,WAJW,gBAMXC,UAAU,CAAGD,WAAW,CAACK,OAAZ,CAAoBC,MAAjC,CAEAP,GAAG,CAACQ,IAAJ,OAAAR,GAAG,oBAASC,WAAW,CAACK,OAArB,EAAH,CAEAb,WAAW,GAVA,OACUY,CAAC,EADX,iEAaNL,GAbM,2D"},"metadata":{},"sourceType":"module"}